<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AWS Quiz Challenge</title>
  <link rel="stylesheet" href="style.css">
 
</head>
<body>



  <div class="quiz-container">
    <h1>‚òÅÔ∏è AWS Quiz Challenge 2.21</h1>
<div style="text-align: center; margin-bottom: 20px;">
  <label for="quizSelector" style="font-weight: bold; margin-right: 10px;">Choose Quiz:</label>
  <select id="quizSelector">
    <option value="awsQuiz.js">AWS</option>
    <option value="hybridQuiz.js">AWS Hybrid Networking</option>
    <option value="S3Quiz.js">AWS S3 Simple Storage Solution</option>
  </select>
  <button id="loadQuizBtn">Load Quiz</button>
<div id="loadFeedback" style="margin-top: 10px; font-weight: bold;"></div>
</div>

    <div id="statusBar">
      Question: <span id="questionNumber">1</span> /
      <span id="totalQuestions">20</span> |
      ‚úÖ Correct: <span id="correctCount">0</span> |
      ‚ùå Incorrect: <span id="incorrectCount">0</span>
    </div>
    <div id="question"></div>
    <ul id="choices"></ul>
    <div id="buttonGroup" style="margin-top: 20px;">
		<button id="backBtn" style="display: none;">Back</button>
		<button id="nextBtn" style="display: none;">Next</button>
		<button id="submitBtn">Submit</button>
	</div>

    <button id="restartBtn" style="display: none;">Restart Quiz</button>
    <div id="feedback"></div>
    <div id="score">Score: 0</div>
  </div>

 <script>


document.getElementById("loadQuizBtn").onclick = () => {
  window.loadedQuiz = null;
  const selectedFile = document.getElementById("quizSelector").value;
  const feedbackEl = document.getElementById("loadFeedback");

  // Clear previous feedback
  feedbackEl.textContent = "";
  feedbackEl.style.color = "";

  // Remove old script if it exists
  const oldScript = document.getElementById("quizDataScript");
  if (oldScript) oldScript.remove();

  // Create new script
  const script = document.createElement("script");
  script.src = selectedFile;
  script.id = "quizDataScript";

  // Success handler
 script.onload = () => {
  if (!window.loadedQuiz || !Array.isArray(window.loadedQuiz)) {
    feedbackEl.textContent = "‚ùå Quiz data is invalid or missing.";
    feedbackEl.style.color = "red";
    return;
  }

  feedbackEl.textContent = "‚úÖ Quiz loaded successfully!";
  feedbackEl.style.color = "green";
  startQuiz(window.loadedQuiz);
};

  // Error handler
  script.onerror = () => {
    feedbackEl.textContent = "‚ö†Ô∏è Failed to load quiz. Please try again or check the file.";
    feedbackEl.style.color = "red";
  };

  document.body.appendChild(script);
};


</script>

  <script>
function startQuiz(data) {
 let userAnswers = new Array(data.length).fill(null);
let currentQuestion = 0;
let score = 0;
let selectedIndex = null;
let correctCount = 0;
let incorrectCount = 0;

const questionEl = document.getElementById("question");
const choicesEl = document.getElementById("choices");
const feedbackEl = document.getElementById("feedback");
const scoreEl = document.getElementById("score");
const submitBtn = document.getElementById("submitBtn");
const nextBtn = document.getElementById("nextBtn");
const restartBtn = document.getElementById("restartBtn");

const questionNumberEl = document.getElementById("questionNumber");
const totalQuestionsEl = document.getElementById("totalQuestions");
const correctCountEl = document.getElementById("correctCount");
const incorrectCountEl = document.getElementById("incorrectCount");

let quiz = shuffleQuiz([...data]);
totalQuestionsEl.textContent = quiz.length;

function shuffleQuiz(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

function loadQuestion() {
  const q = quiz[currentQuestion];

  // Update status bar
  questionNumberEl.textContent = currentQuestion + 1;
  totalQuestionsEl.textContent = quiz.length;

  // Clear previous content
  questionEl.innerHTML = "";
  choicesEl.innerHTML = "";
  feedbackEl.textContent = "";
  selectedIndex = null;

  // Show category
  const categoryEl = document.createElement("div");
  categoryEl.textContent = `üìÇ Category: ${q.category}`;
  categoryEl.style.fontSize = "14px";
  categoryEl.style.marginBottom = "10px";
  questionEl.appendChild(categoryEl);

  // Show question text
  const questionText = document.createElement("div");
  questionText.textContent = q.question;
  questionEl.appendChild(questionText);

  // Render choices
  q.choices.forEach((choice, index) => {
    const li = document.createElement("li");
    li.textContent = choice;
    li.onclick = () => selectChoice(index, li);
    choicesEl.appendChild(li);

    // Highlight previously selected answer
    if (userAnswers[currentQuestion] === index) {
      li.classList.add("selected");
      selectedIndex = index;
    }
  });

  // Show/hide buttons
  submitBtn.style.display = userAnswers[currentQuestion] === null ? "inline-block" : "none";
  nextBtn.style.display = userAnswers[currentQuestion] !== null ? "inline-block" : "none";
  backBtn.style.display = currentQuestion > 0 ? "inline-block" : "none";
  restartBtn.style.display = "none";
}


function selectChoice(index, li) {
  selectedIndex = index;
  Array.from(choicesEl.children).forEach((el) => {
    el.classList.remove("selected");
  });
  li.classList.add("selected");
}

submitBtn.onclick = () => {
  if (selectedIndex === null) {
    feedbackEl.textContent = "Please select an answer!";
    return;
  }

  const correctAnswer = quiz[currentQuestion].answer;
  const selectedLi = choicesEl.children[selectedIndex];
  userAnswers[currentQuestion] = selectedIndex;

  if (selectedIndex === correctAnswer) {
    selectedLi.classList.add("correct");
    feedbackEl.textContent = "‚úÖ Correct!";
    score += 1;
    correctCount += 1;
  } else {
    selectedLi.classList.add("incorrect");
    choicesEl.children[correctAnswer].classList.add("correct");
    feedbackEl.textContent = "‚ùå Incorrect!";
    incorrectCount += 1;
  }

  scoreEl.textContent = `Score: ${score}`;
  correctCountEl.textContent = correctCount;
  incorrectCountEl.textContent = incorrectCount;

  Array.from(choicesEl.children).forEach((el) => {
    el.onclick = null;
  });

const explanationText = quiz[currentQuestion].explanation;
const explanationEl = document.createElement("div");
explanationEl.textContent = `üí° Explanation: ${explanationText}`;
explanationEl.style.marginTop = "10px";
explanationEl.style.fontStyle = "italic";
feedbackEl.appendChild(explanationEl);

  submitBtn.style.display = "none";
  nextBtn.style.display = "inline-block";
};

backBtn.onclick = () => {
  if (currentQuestion > 0) {
    currentQuestion--;
    loadQuestion();
    nextBtn.style.display = "inline-block";
    backBtn.style.display = currentQuestion > 0 ? "inline-block" : "none";
  }
};

nextBtn.onclick = () => {
  currentQuestion++;
  if (currentQuestion < quiz.length) {
    loadQuestion();
    backBtn.style.display = "inline-block";
  } else {
    showFinalScore();
    backBtn.style.display = "none";
  }
};

restartBtn.onclick = () => {
  currentQuestion = 0;
  score = 0;
  correctCount = 0;
  incorrectCount = 0;
  quiz = shuffleQuiz([...data]);
  scoreEl.textContent = "Score: 0";
  correctCountEl.textContent = "0";
  incorrectCountEl.textContent = "0";
  restartBtn.style.display = "none";
  loadQuestion();
};

function showFinalScore() {
  questionEl.textContent = "üéâ Quiz Complete!";
  choicesEl.innerHTML = "";
  feedbackEl.textContent = `You scored ${score} out of ${quiz.length}.`;
  submitBtn.style.display = "none";
  nextBtn.style.display = "none";
  restartBtn.style.display = "inline-block";
}

// Start the quiz
loadQuestion();
};
</script>
</body>
</html>

